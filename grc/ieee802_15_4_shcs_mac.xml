<?xml version="1.0"?>
<block>
    <name>IEEE802.15.4 SHCS MAC</name>
    <key>ieee802_15_4_shcs_mac</key>
    <category>[IEEE802.15.4]</category>
    <import>import ieee802_15_4</import>
    <make>ieee802_15_4.shcs_mac($debug, $nwk_dev_type, $suc_id, $mac_addr, $fft_len)</make>

    <param>
        <name>Debug</name>
        <key>debug</key>
        <value>False</value>
        <type>bool</type>

        <option>
            <name>Enable</name>
            <key>True</key>
        </option>
        <option>
            <name>Disable</name>
            <key>False</key>
        </option>
    </param>
    <param>
        <name>Network Device Type</name>
        <key>nwk_dev_type</key>
        <value>False</value>
        <type>bool</type>

        <option>
            <name>SUC</name>
            <key>True</key>
        </option>
        <option>
            <name>SU</name>
            <key>False</key>
        </option>
    </param>
    <param>
        <name>SUC ID</name>
        <key>suc_id</key>
        <value>0</value>
        <type>int</type>
        <hide>#if str($nwk_dev_type) == 'True' then 'one' else 'all'#</hide>
    </param>
    <param>
        <name>MAC Address (16bit)</name>
        <key>mac_addr</key>
        <value>0</value>
        <type>int</type>
    </param>
    <param>
    <name>FFT length</name>
    <key>fft_len</key>
    <value>1024</value>
    <type>int</type>
    </param>
    <sink>
        <name>pdu in</name>
        <type>message</type>
        <optional>1</optional>
    </sink>
    <sink>
        <name>app in</name>
        <type>message</type>
        <optional>1</optional>
    </sink>
    <sink>
        <name>spectrum sensing</name>
        <type>float</type>
        <vlen>$fft_len</vlen>
    </sink>
    <source>
        <name>pdu out</name>
        <type>message</type>
        <optional>1</optional>
    </source>
    <source>
        <name>app out</name>
        <type>message</type>
        <optional>1</optional>
    </source>
    <source>
        <name>usrp sink cmd</name>
        <type>message</type>
        <optional>1</optional>
    </source>
    <source>
        <name>usrp source cmd</name>
        <type>message</type>
        <optional>1</optional>
    </source>
    
</block>
